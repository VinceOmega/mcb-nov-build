<?php defined('SYSPATH') OR die('No direct access allowed.'); ?>

	<script>
	$(function(){
		$('#slides').slides({
			preload: true,
			preloadImage: 'img/loading.gif',
			play: 5000,
			pause: 2500,
			hoverPause: true,
			animationStart: function(current){
				$('.caption').animate({
					bottom:-35
				},100);
				if (window.console && console.log) {
					// example return of current slide number
					console.log('animationStart on slide: ', current);
				};
			},
			animationComplete: function(current){
				$('.caption').animate({
					bottom:0
				},200);
				if (window.console && console.log) {
					// example return of current slide number
					console.log('animationComplete on slide: ', current);
				};
			},
			slidesLoaded: function() {
				$('.caption').animate({
					bottom:0
				},200);
			}
		});
		$('#slideshow').tabs({ fx: { opacity: 'toggle'} }).tabs("rotate", 6000, true);
	});
	</script>
	<style>
		#slideshow ul.ui-tabs-nav {
			display: block !important;
			text-align: center !important;
			background: none !important;
			border-radius: 0 !important;
			border: 0  !important;
			padding: 0 !important;
			margin: 10px 0 !important;
			margin-left: 270px !important;
		}
		#slideshow ul li
		{
			display: inline !important;
			border: none !important;
			float: none !important;
			margin: 0 !important;
			padding: 0 !important;
			position: static !important;
			top: 0 !important;
		}
		#slideshow ul li a {
			display: inline-block !important;
			height: 12px !important;
			background: url('/env/images/mcc/slideshow/bullets.png') no-repeat;
			background-position: -20px 0px;
			height: 12px !important;
			width: 12px !important;
			padding: 0 !important;
			margin: 0 3px !important;
		}
		#slideshow .ui-state-active a{
			background-position: 0px 0px;
		}
		#slideshow.ui-tabs ,
		#slideshow.ui-tabs .ui-tabs-panel {
			padding: 0 !important;
			border: none !important;
			border-radius: 0 !important;
		}
	</style>
		<div id="content" class="no-header">
			<div id="top">
				<div class="huge-box grey-border right relative">
					<div id="slideshow" style="background:none;">
<?						$slides = ORM::factory('slide')
										->orderby('order')
										->find_all();
						foreach ($slides as $k => $slide) { ?>
						<div id='slide-<?=$k+1?>'><?
							if ($slide->url) { 
?><a href="<?=$slide->url?>" target='_blank'><img width="590" src='/env/images/mcc/slideshow/<?=$slide->image?>' alt="<?=$slide->image_alt?>" /></a><?
							} else {
							?><img width="590" src='/env/images/mcc/slideshow/<?=$slide->image?>' alt="<?=$slide->image_alt?>" /><?
							}
						?></div><?
						} ?>
						<ul>
<?						foreach ($slides as $k => $slide) { ?>
							<li><a href="#slide-<?=$k+1?>"></a></li>
<?						} ?>
						</ul>
					</div>
				</div><!-- huge-box -->
				<div id="getstartedEvents" class="small-box grey-border left grey-corner relative" style="min-height: 162px;">
					<h3>How to get started:</h3>
					<ul id="started">
						<li><img src="/env/images/mcc/check_icon.png" /> 1. Select one of the four product types</li>
						<li><img src="/env/images/mcc/brush_icon.png" /> 2. Choose and apply custom design</li>
						<li><img src="/env/images/mcc/cart_icon.png" /> 3. Order your personalized chocolate coins</li>
					</ul>
					<a href="/products/"><img class="bottom-right" src="/env/images/<?=My_Template_Controller::getViewPrefix()?>/get_started_button.png" alt="Get Started" /></a>
				</div><!-- small-box -->
				<a href='/occasions/corporate_coins'>
				<div id="promotionEvents" class="small-box grey-border left grey-corner">
					<h3 style="margin-bottom: 18px;">Corporate Clients</h3>
					<img class="right big-image" src="/env/images/mcc/home_corporate.png" width="130" alt="Chocolate Coins for Corporate Clients" />
					<h4 style="display: inline-block; width: 156px;">Promote your business with our branded chocolate coins. 100% Belgian Chocolate.</h4>
				</div>
				</a><!-- small-box -->
				<a href='/products/category/grab_and_go'>
				<div id="specialEvents" class="small-box grey-border left grey-corner">
					<img src="/env/images/mcc/Small_Bulk_Coin_Banner.png" alt="Bulk Chocolate Coins" />
				</div>
				</a>
				<!--<a href='/occasions/'>
				<div id="specialEvents" class="small-box grey-border left grey-corner">
					<h3 style="margin-bottom: 18px;">Special Events</h3>
					<img class="right big-image" src="/env/images/mcc/special_event_img.png" width="130" alt="Chocolate Coins for Special Events" />
					<h4 style="display: inline-block; width: 156px;">Our Chocolate Coins are the perfect complement for your special occasion.</h4>
				</div>
				</a>--><!-- small-box -->
			</div><!-- top -->
			<div style="clear: both;margin: 5px 0;">
				<img src="/env/images/mcc/headline_design_mint_enjoy.jpg" />
			</div>
			<div id="bottom">
				
				<?php foreach($productresults as $products):?>
				<div class="box grey-border left grey-corner product-box-standard">
					<img src="/env/product_images/<?php echo $products->image; ?>" width="100" alt="<?php echo $products->meta_title; ?>"/>
					<div class="product-details">
						<h3 class="curly"><?php echo $products->name; ?></h3>
						<p><?php echo $products->short_description; ?></p>
						<span class="price">Starting at <?=money_format('%.2n', ORM::factory('product',$products->id)->getPriceStartingAt()).' per '.inflector::singular($products->unit); ?></span>
					</div><!-- product-deatils -->
					<a href="/products/show/<?php echo $products->title_url; ?>" class="link-btn"><img src="/env/images/<?=My_Template_Controller::getViewPrefix()?>/get_started_button.png" alt="Get Started" /></a>
				</div><!-- box -->
				<?php endforeach; ?>
				<div class="box grey-border left grey-corner product-box-standard">
					<img src="/env/images/mcc/gng_homepage.png" width="100" alt="Grab and Go Products"/>
					<div class="product-details">
						<h3 class="curly">Grab and Go Products</h3>
						<p>
							Need it faster? Our Grab n Go chocolate coins are in stock can ship within 2 days. They are a faster and more affordable option with the same quality of all our products. Our Chocolate Coins are the best you have ever tried. Forget about those waxy & gritty chocolates that you are used to.
						</p>
						<span class="price">Starting at $ 0.14 per coin</span>
					</div><!-- product-deatils -->
					<a href="/products/category/grab_and_go" class="link-btn"><img src="/env/images/mcc/get_started_button.png" alt="Grab and Go Products" /></a>
				</div><!-- box -->
				
				<div class="large-box grey-border left grey-top">
					<h3>Occasions</h3>
					<?php $i = 0; ?>
					<?php foreach( $occasionresults as $row ):?>
						<?php if($i == 0 || $i % 6 == 0) {
							echo '<ul class="occasions">';
						} ?>
						<li><a href="/occasions/<?php echo $row->title_url; ?>" title="<?php echo $row->name; ?>"><?php echo $row->name; ?></a></li><?php $i++; ?>
						<?php if($i % 6 == 0) {
							echo '</ul>';
						} ?>
					<?php endforeach; ?>
					<?php if($i % 6 != 0) {
							echo '</ul>';
					} ?>
				</div><!-- large-box -->
				<div class="medium-box grey-border left grey-top">
					<a href="/testimonials" style="text-decoration:none;"><h3>Testimonials</h3></a>
					<div class="testimonial">
						<p><?php echo $testimonialresult->description; ?></p>
						<span class="author">- <?php echo ''.$testimonialresult->name.' '.$testimonialresult->location.''; ?></span>
						<div class="clear"></div>
					</div><!-- testimonial -->
				</div><!-- large-box -->
				<div class="large-box grey-border left grey-top" style="width: 907px;">  
					<div align="center">
						<object style="height: 425px; width: 344px">
							<param name="movie" value="http://www.youtube.com/v/ue9GfZpM-2A&fs=1&rel=0">
							<param name="allowFullScreen" value="true">
							<param name="allowScriptAccess" value="always">
							<embed src="http://www.youtube.com/v/ue9GfZpM-2A&fs=1&rel=0" type="application/x-shockwave-flash" allowfullscreen="true" allowScriptAccess="always" width="425" height="344">
						</object>
					</div>
					<h1 style="font-size: 16px">MyChocolateCoins.com, Your Source For Personalized &amp; Custom Chocolate Coins &amp; Casino Chips</h1>
					<p>Welcome to MyChocolateCoins.com. We create unique <a href="/products/show/Customized_Chocolate_Coins" title="Personalized Chocolate Coins">personalized chocolate coins</a> and chocolate casino chips for any occasion. Chocolate coins are a delicious treat that is perfect for use as party favors, <a href="/occasions/wedding" title="Personalized Wedding Favors">personalized wedding favors</a>, bridal shower favors or corporate favors. People of every age love chocolate and chocolate favors are perfect for every event from kids' party favors to <a href="/occasions/corporate_coins" title="Corporate Favors">corporate favors</a>..</p>

					<h2 style="font-size: 14px">Find Personalized Chocolate Favors For All Occasions Including Wedding, Party, Baby &amp; Bridal Shower, Corporate &amp; Many More</h2>

					<p>Our chocolate party favors are not only unique and memorable, they also taste great. All our chocolate coins are made with the highest quality Belgian chocolate, so they are not only adorable <a href="/occasions/baby_shower_coins" title="Baby Shower Favors">baby shower favors</a>  or party favors, but also a delicious treat. We never skimp on ingredients and always use the very best to ensure the best flavor possible.</p>

					<h2 style="font-size: 14px">Shop For Custom Chocolate Gold Coins &amp; Poker Chips</h2>

					<p>Create personalized chocolate coins or chocolate poker chips in minutes on our website. Follow the prompts to select the colors, personalized message and choose from a broad selection of clip art. Whether you are looking for <a href="/products/show/Customized_Casino_Chocolate_Chips" title="Custom Chocolate Casino Chips">custom chocolate casino chips</a> for a fundraiser or corporate favors or need unique chocolate favors, there is a design in our collection to fit any occasion.</p>

					<p>In the event you don't find the design you want for custom chocolate poker chips or chocolate gold coins, we can help. You can upload an original logo or design for your order.  If you don't have a design, we can help with that too. Our talented staff of graphic designers can create custom chocolate coins to your specifications. The design is etched into the chocolate favors and the foil packaging.	</p>
				</div>
			</div><!-- bottom -->
			
			
<script type="text/javascript">
			$(function() {
			
			  //remove js-disabled class
				$("#viewer").removeClass("js-disabled");
			
			  //create new container for images
				$("<div>").attr("id", "container").css({ position:"absolute"}).width($(".wrapper").length * 170).height(170).appendTo("div#viewer");
			  	
				//add images to container
				$(".wrapper").each(function() {
					$(this).appendTo("div#container");
				});
				
				//work out duration of anim based on number of images (1 second for each image)
				var duration = $(".wrapper").length * 2000;
				
				//store speed for later (distance / time)
				var speed = (parseInt($("div#container").width()) + parseInt($("div#viewer").width())) / duration;
								
				//set direction
				var direction = "rtl";
				
				//set initial position and class based on direction
				(direction == "rtl") ? $("div#container").css("left", $("div#viewer").width()).addClass("rtl") : $("div#container").css("left", 0 - $("div#container").width()).addClass("ltr") ;
				
				//animator function
				var animator = function(el, time, dir) {
				 
					//which direction to scroll
					if(dir == "rtl") {
					  
					  //add direction class
						el.removeClass("ltr").addClass("rtl");
					 		
						//animate the el
						el.animate({ left:"-" + el.width() + "px" }, time, "linear", function() {
												
							//reset container position
							$(this).css({ left:$("div#imageScroller").width(), right:"" });
							
							//restart animation
							animator($(this), duration, "rtl");
							
							//hide controls if visible
							($("div#controls").length > 0) ? $("div#controls").slideUp("slow").remove() : null ;			
											
						});
					} else {
					
					  //add direction class
						el.removeClass("rtl").addClass("ltr");
					
						//animate the el
						el.animate({ left:$("div#viewer").width() + "px" }, time, "linear", function() {
												
							//reset container position
							$(this).css({ left:0 - $("div#container").width() });
							
							//restart animation
							animator($(this), duration, "ltr");
							
							//hide controls if visible
							($("div#controls").length > 0) ? $("div#controls").slideUp("slow").remove() : null ;			
						});
					}
				}
				
				//start anim
				animator($("div#container"), duration, direction);
				
				
			});


			$(function() {
			
			  //remove js-disabled class
				$("#viewer2").removeClass("js-disabled");
			
			  //create new container for images
				$("<div>").attr("id", "container").css({ position:"absolute"}).width($(".wrapper").length * 170).height(170).appendTo("div#viewer2");
			  	
				//add images to container
				$(".wrapper").each(function() {
					$(this).appendTo("div#container");
				});
				
				//work out duration of anim based on number of images (1 second for each image)
				var duration = $(".wrapper").length * 2000;
				
				//store speed for later (distance / time)
				var speed = (parseInt($("div#container").width()) + parseInt($("div#viewer2").width())) / duration;
								
				//set direction
				var direction = "ltr";
				
				//set initial position and class based on direction
				(direction == "rtl") ? $("div#container").css("left", $("div#viewer2").width()).addClass("rtl") : $("div#container").css("left", 0 - $("div#container").width()).addClass("ltr") ;
				
				//animator function
				var animator = function(el, time, dir) {
				 
					//which direction to scroll
					if(dir == "rtl") {
					  
					  //add direction class
						el.removeClass("ltr").addClass("rtl");
					 		
						//animate the el
						el.animate({ left:"-" + el.width() + "px" }, time, "linear", function() {
												
							//reset container position
							$(this).css({ left:$("div#imageScroller").width(), right:"" });
							
							//restart animation
							animator($(this), duration, "rtl");
							
							//hide controls if visible
							($("div#controls").length > 0) ? $("div#controls").slideUp("slow").remove() : null ;			
											
						});
					} else {
					
					  //add direction class
						el.removeClass("rtl").addClass("ltr");
					
						//animate the el
						el.animate({ left:$("div#viewer2").width() + "px" }, time, "linear", function() {
												
							//reset container position
							$(this).css({ left:0 - $("div#container").width() });
							
							//restart animation
							animator($(this), duration, "ltr");
							
							//hide controls if visible
							($("div#controls").length > 0) ? $("div#controls").slideUp("slow").remove() : null ;			
						});
					}
				}
				
				//start anim
				animator($("div#container"), duration, direction);
				
				
			});
		</script>